-- IceHub Style Menu (Leo Edition)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")

-- UI Library
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local Title = Instance.new("TextLabel")

ScreenGui.Name = "IceHubMenu"
ScreenGui.Parent = game.CoreGui

MainFrame.Size = UDim2.new(0, 250, 0, 300)
MainFrame.Position = UDim2.new(0.5, -125, 0.5, -150)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.Parent = ScreenGui

UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = MainFrame

Title.Text = "IceHub V1"
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 20
Title.Parent = MainFrame

-- UI Button Factory
local function createToggleButton(name, yPos, callback)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, -20, 0, 30)
    button.Position = UDim2.new(0, 10, 0, yPos)
    button.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    button.Text = name .. " [OFF]"
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextSize = 16
    button.Parent = MainFrame

    local state = false
    button.MouseButton1Click:Connect(function()
        state = not state
        button.Text = name .. (state and " [ON]" or " [OFF]")
        callback(state)
    end)
end

-- Features
createToggleButton("Speed", 50, function(state)
    if state then
        LocalPlayer.Character.Humanoid.WalkSpeed = 50
    else
        LocalPlayer.Character.Humanoid.WalkSpeed = 16
    end
end)

createToggleButton("Jump", 90, function(state)
    if state then
        LocalPlayer.Character.Humanoid.JumpPower = 150
    else
        LocalPlayer.Character.Humanoid.JumpPower = 50
    end
end)

createToggleButton("GodMode", 130, function(state)
    if state and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid.MaxHealth = math.huge
        LocalPlayer.Character.Humanoid.Health = math.huge
    else
        LocalPlayer.Character.Humanoid.MaxHealth = 100
        LocalPlayer.Character.Humanoid.Health = 100
    end
end)

createToggleButton("Fly", 170, function(state)
    local char = LocalPlayer.Character
    if not char then return end

    if state then
        local hrp = char:FindFirstChild("HumanoidRootPart")
        if hrp then
            local bodyVel = Instance.new("BodyVelocity")
            bodyVel.Velocity = Vector3.new(0,0,0)
            bodyVel.MaxForce = Vector3.new(4000,4000,4000)
            bodyVel.Parent = hrp
            UserInputService.InputBegan:Connect(function(input)
                if input.KeyCode == Enum.KeyCode.Space then
                    bodyVel.Velocity = Vector3.new(0,50,0)
                elseif input.KeyCode == Enum.KeyCode.LeftControl then
                    bodyVel.Velocity = Vector3.new(0,-50,0)
                end
            end)
        end
    else
        local hrp = char:FindFirstChild("HumanoidRootPart")
        if hrp and hrp:FindFirstChildOfClass("BodyVelocity") then
            hrp:FindFirstChildOfClass("BodyVelocity"):Destroy()
        end
    end
end)

createToggleButton("Teleport Spawn", 210, function(state)
    if state then
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(Vector3.new(0, 5, 0))
        end
    end
end)
